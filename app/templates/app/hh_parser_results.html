<!-- github_app/templates/github_app/hh_parser_results.html -->
<!DOCTYPE html>
<html>
<head>
    <title>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞ - HH.ru</title>
    <style>
        .container { max-width: 1200px; margin: 0 auto; padding: 20px; }
        .stats { background: #e7f3ff; padding: 20px; border-radius: 8px; margin: 20px 0; }
        .vacancy-item { border: 1px solid #ddd; padding: 15px; margin: 10px 0; border-radius: 5px; }
        .salary { color: #2e7d32; font-weight: bold; }
        .btn { padding: 10px 20px; margin: 5px; text-decoration: none; border-radius: 5px; display: inline-block; }
        .btn-primary { background: #FF3366; color: white; }
        .btn-secondary { background: #6c757d; color: white; }
        .table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        .table th, .table td { border: 1px solid #ddd; padding: 8px; text-align: left; }
        .table th { background: #f8f9fa; }
    </style>
</head>
<body>
    <div class="container">
        <div style="margin-bottom: 20px;">
            <a href="{% url 'hh_parser_home' %}" class="btn btn-secondary">‚Üê –ù–æ–≤—ã–π –ø–æ–∏—Å–∫</a>
            <a href="{% url 'home' %}" class="btn btn-secondary">üìã –ö —Å–ø–∏—Å–∫—É –∑–∞–¥–∞–Ω–∏–π</a>
        </div>
        
        <h1>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∏—Å–∫–∞: "{{ job_title }}"</h1>
        
        <div class="stats">
            <h3>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:</h3>
            <p><strong>–ù–∞–π–¥–µ–Ω–æ –≤–∞–∫–∞–Ω—Å–∏–π:</strong> {{ total_vacancies }}</p>
            <p><strong>–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å—Ç—Ä–∞–Ω–∏—Ü:</strong> {{ pages }}</p>
            {% if salary_stats.avg_min %}
                <p><strong>–°—Ä–µ–¥–Ω—è—è –º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞:</strong> {{ salary_stats.avg_min|floatformat:0 }} —Ä—É–±.</p>
                <p><strong>–°—Ä–µ–¥–Ω—è—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –∑–∞—Ä–ø–ª–∞—Ç–∞:</strong> {{ salary_stats.avg_max|floatformat:0 }} —Ä—É–±.</p>
            {% endif %}
            <p><strong>–î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤:</strong> {{ filename }}</p>
        </div>
        
        <h2>üéØ –ü–æ—Å–ª–µ–¥–Ω–∏–µ –≤–∞–∫–∞–Ω—Å–∏–∏ (–ø–µ—Ä–≤—ã–µ 20):</h2>
        
        {% for vacancy in vacancies %}
        <div class="vacancy-item">
            <h3><a href="{{ vacancy.url }}" target="_blank">{{ vacancy.name }}</a></h3>
            <p><strong>–†–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å:</strong> {{ vacancy.employer }}</p>
            <p><strong>–ó–∞—Ä–ø–ª–∞—Ç–∞:</strong> <span class="salary">{{ vacancy.salary }}</span></p>
            <p><strong>–û–ø—ã—Ç:</strong> {{ vacancy.experience }}</p>
        </div>
        {% endfor %}
        
        {% if dataframe_html %}
        <h2>üìã –ü–æ–ª–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö (DataFrame):</h2>
        {{ dataframe_html|safe }}
        {% endif %}
        
        {% if not vacancies %}
        <div style="text-align: center; padding: 40px; color: #666;">
            <h3>üòî –í–∞–∫–∞–Ω—Å–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã</h3>
            <p>–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∏–∑–º–µ–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å –∏–ª–∏ —É–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—Ç—Ä–∞–Ω–∏—Ü</p>
        </div>
        {% endif %}
    </div>
</body>
</html>